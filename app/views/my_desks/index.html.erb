<%= turbo_frame_tag "content" do %>
  <div class="flex">
    <ul class="menu menu-md w-44 rounded-box ">
      <%= turbo_frame_tag "my_desks" do %>
        <% @my_desks.each do |my_desk| %>
          <%= render 'my_desk', my_desk: my_desk %>
        <% end %>
      <% end %>
      <li class="text-center">
        <%= link_to "＋", new_my_desk_path, data: { turbo_frame: "new_my_desk" } %>
      </li>
      <%= turbo_frame_tag "new_my_desk" %>
    </ul>

    <%= turbo_frame_tag "my-desk-content" do %>
      <div class="grid grid-cols-3 gap-3">
        <% current_user.my_desks.first.gadgets.each do |gadget| %>
          <div id="gadget-card" class="flex flex-col bg-white shadow rounded-lg text-base p-4">
            <% if gadget.brand.present? %>
              <p class="badge bg-slate-200 min-h-6"><%= gadget.brand %></p>
            <% else %>
              <div class="min-h-6"></div>
            <% end %>
            <div class="flex justify-center py-2">
              <%= image_tag gadget.image_url, class: "shadow h-24 w-32 object-contain" %>
            </div>
            <div class="flex-grow flex flex-col">
              <%= link_to truncate_name(gadget.name), gadget.product_url, target: :_blank, rel: "noopener noreferrer", class: "text-center p-2 md:h-16 hover:text-blue-500" %>
              <p class="text-right font-bold text-lg md:p-2">¥<%= number_with_delimiter(gadget.price) %></p>
              <div class="flex flex-col md:flex-row justify-between my-2 text-sm border-t md:border-none pt-3 md:pt-0">
                <p><%= Gadget.human_attribute_name :maker_name %></p>
                <p ><%= gadget.maker.name %></p>
              </div>
              <p class="text-right text-sm border-t pt-3"><%= gadget.genre.name %></p>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>