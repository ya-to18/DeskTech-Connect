<div class="flex justify-center">
  <button class="my-5 text-xl bg-slate-50" onclick="my_modal_3.showModal()">
    <i class="fa-solid fa-magnifying-glass"></i>
    <%= t('defaults.search') %>
  </button>
  <dialog id="my_modal_3" class="modal">
    <div class="modal-box h-auto">
      <form method="dialog">
        <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
      </form>
      <%= search_form_for @q, url: url do |f| %>
        <div class="flex flex-col gap-5 mt-5">
          <div class="">
            <%= f.label t('search.genre') %>
            <%= f.select :gadgets_genre_eq, Genre.all.map{|genre|genre.name}, prompt: '指定なし', class: "form-controll border" %>
          </div>
          <div class="w-full" data-controller="autocomplete" data-autocomplete-url-value="/autocomplete/brand", role="combobox">
            <%= f.label t('search.brand') %>
            <%= f.search_field :gadgets_brand_cont, data: { autocomplete_target: 'input' }, class: 'form-controll base-form-area w-full max-w-xs', placeholder: '検索ワード' %>
            <%= f.hidden_field :content, data: { autocomplete_target: 'hidden' } %>
            <ul class="list-group bg-white absolute w-full md:text-sm max-w-max z-50 cursor-pointer" data-autocomplete-target="results"></ul>
          </div>
          <div class="w-full" data-controller="autocomplete" data-autocomplete-url-value="/autocomplete/name", role="combobox">
            <%= f.label t('search.name'), class: "mr-4" %>
            <%= f.search_field :gadgets_name_cont, data: { autocomplete_target: 'input'}, class: 'form-controll base-form-area w-full max-w-xs', placeholder: '検索ワード' %>
            <%= f.hidden_field :content, data: { autocomplete_target: 'hidden' } %>
            <ul class="list-group bg-white absolute w-full md:text-sm max-w-max z-50 cursor-pointer" data-autocomplete-target="results"></ul>
          </div>
          <div class="flex justify-center">
            <%= f.submit t('defaults.search'), class: 'base-btn w-20' %>
          </div>
        </div>
      <% end %>
    </div>
  </dialog>
</div>